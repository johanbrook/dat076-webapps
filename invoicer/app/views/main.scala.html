@(title: String)(content: Html)

<!DOCTYPE html>
<html>
	@head(title)

	<body>
		<header role="banner">
		    <h1><a href="/">Invoicer</a></h1>

				@if(Session.getCurrentUser() != null) {
		    <div class="user-controls">
		    	<span class="greeting">Hi @Session.getCurrentUser().username!</span>
		    	<a href="@routes.Session.destroy()">Sign out</a>
		    </div>
		    }
		</header>

		<div class="sidebar">
			@navigation(Invoice.getOverdueInvoicesOfUser(Session.getCurrentUser().id))
		</div>
	
		<main role="main">
			@if(flash.contains("success")) {
			    <p class="positive">
			        @flash.get("success")
			    </p>
			}

			@content
		</main>
	
		<script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/jquery.formexpand.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/jquery.tablesorter.js")" type="text/javascript"></script> 
		<script src="@routes.Assets.at("javascripts/application.js")" type="text/javascript"></script> 

		<script type="text/html" id="invoice-template">
		<li>
			<a href="{{url}}">
				<strong class="invoice-title">{{title}}</strong>
				
				<label>Client</label>{{client.name}}
				<label>Invoice date</label><time datetime="{{invoiceDate}}" pubdate>{{invoiceDate}}</time>
				<label>Due date</label>
				<time datetime="{{dueDate}}">{{dueDate}}</time>
			</a>
		</li>
		</script>
  </body>
</html>

